---
// Import Components & Scripts
import PersonCard from '../PersonCard.astro';
import type { SanityImage } from '../../sanity/types';

// Define Types
interface role {
  name?: string;
  description?: string;
}
interface member{
  _id?: string;
  title?: string;
  roles?: role[];
  featuredImage?: SanityImage;
}
interface Props{
  title: string;
  members: member[];
}

// Define Vars
const {title, members} = Astro.props;

if (import.meta.env.DEV) {
  console.log('ðŸ‘¥ TeamBlock received:', {
    title,
    membersCount: members?.length || 0,
    members: members?.map(m => ({
      name: m.title,
      hasPhoto: !!m.featuredImage,
      rolesCount: m.roles?.length || 0
    }))
  });
}
---

<!-- TeamBlock -->
<div class:list={['teamblock','page']}>
  <h2 class="teamblock-title">{title}</h2>
  <div class="grid gap-8 md:grid-cols-3">
    {members &&
      members.map((member: member) => (
        <PersonCard 
          name={member.title}
          roles={member.roles}
          photo={member.featuredImage}
        />
      ))
    } 
  </div> 
</div>

<style>
  .teamblock-title {
    font-size: var(--fs-6);
    line-height: 112.5%;
    margin-bottom: var(--space-xl);
    font-weight: 500;
  }
</style>

