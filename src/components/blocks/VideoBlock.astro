---
// Import Components & Scripts

// Define Types
interface Props{
  url?: string;
  type?: string;
  size?: "inline" | "popout" | "feature" | "full" | "inherit";
  // Sanity props
  video?: {
    url?: string;
  };
}

// Define Vars
const { url, type, size, video } = Astro.props;

// Determine the actual values to use (Sanity takes precedence)
const finalUrl = video?.url || url;

if (import.meta.env.DEV) {
  console.log('ðŸŽ¥ VideoBlock received:', {
    url: finalUrl,
    type,
    size,
    hasSanityVideo: !!video
  });
}
---

<!--VideoBlock -->
{finalUrl &&
<div class:list={['videoblock', size, type]}>
  <video
    preload="metadata"
    tabindex="-1"
    disablepictureinpicture
    playsinline
    loop
    muted
    title=""
    src={finalUrl}
    autoplay
    class="videoblock-video"
  />
</div>
}