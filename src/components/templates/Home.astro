---
import { PortableText } from 'astro-portabletext';
import Carousel from '../Carousel.astro';
import PageIntro from '../PageIntro.astro';
import ProjectList from '../ProjectList.astro';
import PortableTextLink from '../PortableTextLink.astro';

const { data } = Astro.props;

// Sanity data structure
const slides = data?.slides || [];
const projects = data?.featuredProjects || [];
const introCols = data?.introCols || [];

// Extract intro en statement uit introCols
const intro = introCols[0]?.content || [];
const statement = introCols[1]?.content || [];

const components = {
  types: {},
  mark: {
    link: PortableTextLink,
  },
  block: {},
  list: {},
  listItem: {},
};
---

<Carousel {slides} />

<PageIntro class="home">
  <Fragment slot="column-one">
    <PortableText value={intro} components={components} />
  </Fragment>
  <Fragment slot="column-two">
    <PortableText value={statement} components={components} />
  </Fragment>
</PageIntro>

<ProjectList {projects} layout="grid" />
